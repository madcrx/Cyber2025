<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Cyberlogic IT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #E89523;
            --secondary: #00cc88;
            --dark: #1a2332;
            --light: #f8f9fa;
            --danger: #dc3545;
            --success: #28a745;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f0f2f5;
            color: var(--dark);
        }

        /* Login Screen */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--dark) 0%, #2a3f5f 100%);
            padding: 20px;
        }

        .login-box {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 400px;
        }

        .login-logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-logo i {
            font-size: 60px;
            color: var(--primary);
        }

        .login-logo h1 {
            font-size: 24px;
            margin-top: 10px;
            color: var(--dark);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #d68420;
        }

        .error-message {
            background: #fee;
            color: var(--danger);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: none;
        }

        /* Admin Layout */
        .admin-wrapper {
            display: none;
            min-height: 100vh;
        }

        .admin-header {
            background: var(--dark);
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .admin-header h1 {
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-header h1 i {
            color: var(--primary);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .btn-logout {
            background: var(--danger);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-logout:hover {
            background: #c82333;
        }

        .admin-content {
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Dashboard Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .dashboard-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            border-color: var(--primary);
        }

        .dashboard-card i {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .dashboard-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .dashboard-card p {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
        }

        /* Page Content */
        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .page-header h2 {
            font-size: 28px;
            color: var(--dark);
        }

        .btn-back {
            background: #6c757d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-back:hover {
            background: #5a6268;
        }

        /* Content Editor */
        .editor-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .editor-section h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: var(--dark);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }

        .btn-save {
            background: var(--success);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 20px;
        }

        .btn-save:hover {
            background: #218838;
        }

        .save-status {
            display: none;
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
            font-weight: 500;
        }

        .save-status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        /* User Management */
        .users-table {
            width: 100%;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }

        .users-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .users-table th {
            background: var(--dark);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .users-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .users-table tr:hover {
            background: #f8f9fa;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 13px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
        }

        .btn-edit {
            background: var(--primary);
            color: white;
        }

        .btn-delete {
            background: var(--danger);
            color: white;
        }

        .btn-add-user {
            background: var(--secondary);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 20px;
        }

        /* Image Upload */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .image-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }

        .image-preview {
            width: 100%;
            height: 200px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-preview i {
            font-size: 60px;
            color: #ccc;
        }

        .image-info {
            padding: 15px;
        }

        .image-info h4 {
            font-size: 16px;
            margin-bottom: 8px;
            color: var(--dark);
        }

        .image-info p {
            font-size: 13px;
            color: #666;
            margin-bottom: 10px;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .file-input-label {
            display: block;
            padding: 10px;
            background: var(--primary);
            color: white;
            text-align: center;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .file-input-label:hover {
            background: #d68420;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h3 {
            font-size: 22px;
            color: var(--dark);
        }

        .btn-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        @media (max-width: 768px) {
            .admin-header {
                flex-direction: column;
                gap: 15px;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-container" id="loginScreen">
        <div class="login-box">
            <div class="login-logo">
                <i class="fas fa-shield-alt"></i>
                <h1>Cyberlogic IT Admin</h1>
            </div>
            <div class="error-message" id="errorMessage">Invalid username or password</div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required autocomplete="current-password">
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-wrapper" id="adminPanel">
        <!-- Header -->
        <header class="admin-header">
            <h1>
                <i class="fas fa-cog"></i>
                <span>Cyberlogic IT Admin Panel</span>
            </h1>
            <div class="user-menu">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">A</div>
                    <span id="currentUser">Admin</span>
                </div>
                <button class="btn-logout" id="btnLogout">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="admin-content">
            <!-- Dashboard -->
            <div class="page-content active" id="dashboardPage">
                <h2>Dashboard</h2>
                <p style="color: #666; margin-bottom: 20px;">Welcome to the admin panel. Select an option below to manage your website.</p>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card" onclick="showPage('contentEditor')">
                        <i class="fas fa-edit"></i>
                        <h3>Content Editor</h3>
                        <p>Update website content, hero section, services, and contact information.</p>
                    </div>

                    <div class="dashboard-card" onclick="showPage('imageUpload')">
                        <i class="fas fa-images"></i>
                        <h3>Image Management</h3>
                        <p>Upload and manage website images including logo, hero background, and service icons.</p>
                    </div>

                    <div class="dashboard-card" onclick="showPage('themeManager')">
                        <i class="fas fa-palette"></i>
                        <h3>Theme Manager</h3>
                        <p>Change website color scheme and appearance across all pages instantly.</p>
                    </div>

                    <div class="dashboard-card" onclick="showPage('contactSubmissions')">
                        <i class="fas fa-envelope-open-text"></i>
                        <h3>Contact Submissions</h3>
                        <p>View and manage contact form submissions from your website.</p>
                    </div>

                    <div class="dashboard-card" onclick="showPage('websiteTesting')">
                        <i class="fas fa-vial"></i>
                        <h3>Website Testing</h3>
                        <p>Test website performance, speed, mobile responsiveness, and browser compatibility.</p>
                    </div>

                    <div class="dashboard-card" onclick="showPage('websiteOptimization')">
                        <i class="fas fa-gauge-high"></i>
                        <h3>Website Optimization</h3>
                        <p>Analyze and optimize images, code, loading speed, and overall site performance.</p>
                    </div>

                    <div class="dashboard-card" onclick="showPage('seoTools')">
                        <i class="fas fa-search-plus"></i>
                        <h3>SEO Tools</h3>
                        <p>Analyze SEO, check rankings, generate keywords, and improve search visibility.</p>
                    </div>

                    <div class="dashboard-card" onclick="showPage('userManagement')">
                        <i class="fas fa-users"></i>
                        <h3>User Management</h3>
                        <p>Add, edit, or remove admin users and manage access permissions.</p>
                    </div>

                    <div class="dashboard-card" onclick="window.open('../index.html', '_blank')">
                        <i class="fas fa-external-link-alt"></i>
                        <h3>View Website</h3>
                        <p>Open your live website in a new tab to see your changes.</p>
                    </div>
                </div>
            </div>

            <!-- Theme Manager -->
            <div class="page-content" id="themeManagerPage">
                <div class="page-header">
                    <h2>Theme Manager</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <div style="background: white; padding: 30px; border-radius: 10px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px;">Current Theme: <span id="currentThemeName" style="color: var(--primary);">Default</span></h3>
                    
                    <div style="margin-bottom: 30px;">
                        <label style="display: block; margin-bottom: 10px; font-weight: 600;">Select Theme:</label>
                        <select id="themeSelector" onchange="previewTheme(this.value)" style="width: 100%; max-width: 400px; padding: 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px;">
                            <option value="default">Default Theme (Original Blue)</option>
                            <option value="professional-dark">Professional Dark</option>
                            <option value="modern-purple">Modern Purple</option>
                            <option value="green-eco">Green Eco</option>
                            <option value="orange-energy">Orange Energy</option>
                            <option value="blue-ocean">Blue Ocean</option>
                            <option value="red-corporate">Red Corporate</option>
                            <option value="teal-modern">Teal Modern</option>
                            <option value="slate-minimal">Slate Minimal</option>
                            <option value="midnight-pro">Midnight Pro</option>
                        </select>
                    </div>

                    <!-- Theme Preview -->
                    <div id="themePreview" style="border: 2px solid #e0e0e0; border-radius: 10px; padding: 30px; margin-bottom: 30px; background: #f8f9fa;">
                        <h4 style="margin-bottom: 20px;"><i class="fas fa-eye"></i> Live Theme Preview</h4>
                        
                        <!-- Color Swatches -->
                        <div id="previewColors" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 25px;">
                            <!-- Preview will be populated by JavaScript -->
                        </div>

                        <!-- Sample Website Preview -->
                        <div style="background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden;">
                            <!-- Mini Hero Section -->
                            <div id="previewHero" style="padding: 30px; text-align: center; background: linear-gradient(135deg, #E89523 0%, #ff6b35 100%); color: white;">
                                <h5 id="previewHeading" style="margin: 0 0 10px 0; font-size: 24px; color: white;">Your Business Name</h5>
                                <p id="previewSubtext" style="margin: 0 0 15px 0; opacity: 0.95;">Professional IT Services & Solutions</p>
                                <button id="previewButton" style="padding: 10px 25px; border: none; border-radius: 5px; font-weight: 600; cursor: pointer; background: white; color: #E89523;">Get Started</button>
                            </div>
                            
                            <!-- Mini Content Section -->
                            <div style="padding: 25px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                                    <div id="previewCard1" style="padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 24px; margin-bottom: 8px;">ðŸ“Š</div>
                                        <div style="font-weight: 600; margin-bottom: 5px;">Service One</div>
                                        <div style="font-size: 13px; color: #666;">Professional solutions</div>
                                    </div>
                                    <div id="previewCard2" style="padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 24px; margin-bottom: 8px;">ðŸ”§</div>
                                        <div style="font-weight: 600; margin-bottom: 5px;">Service Two</div>
                                        <div style="font-size: 13px; color: #666;">Expert support</div>
                                    </div>
                                    <div id="previewCard3" style="padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 24px; margin-bottom: 8px;">ðŸš€</div>
                                        <div style="font-weight: 600; margin-bottom: 5px;">Service Three</div>
                                        <div style="font-size: 13px; color: #666;">Fast delivery</div>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                                    <p id="previewText" style="margin: 0 0 10px 0; color: #333;">Sample paragraph text showing how your content will appear with this theme applied.</p>
                                    <a href="#" id="previewLink" style="text-decoration: none; font-weight: 600;">Learn More â†’</a>
                                </div>
                            </div>
                        </div>

                        <!-- Preview Note -->
                        <div style="margin-top: 15px; padding: 12px; background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px; font-size: 14px;">
                            <strong>ðŸ’¡ Preview Tip:</strong> This shows how the theme will look on your actual website. Select different themes to compare!
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="applyTheme()" style="padding: 15px 40px; font-size: 16px;">
                            <i class="fas fa-check"></i> Apply Theme to Website
                        </button>
                        <button class="btn" onclick="downloadThemeCSS()" style="padding: 15px 40px; font-size: 16px; background: #17a2b8;">
                            <i class="fas fa-download"></i> Download Theme CSS (Backup)
                        </button>
                        <button class="btn" onclick="resetToDefault()" style="padding: 15px 40px; font-size: 16px; background: #dc3545;">
                            <i class="fas fa-undo"></i> Reset to Default
                        </button>
                    </div>

                    <!-- Success Message (shown after applying) -->
                    <div id="themeSuccessMessage" style="margin-top: 25px; padding: 20px; background: #d4edda; border-left: 4px solid #28a745; border-radius: 4px; display: none;">
                        <h4 style="margin: 0 0 10px 0; color: #155724;"><i class="fas fa-check-circle"></i> Theme Applied Successfully!</h4>
                        <p style="margin: 0; line-height: 1.6; color: #155724;">
                            Your theme has been automatically applied and is now active across your entire website. 
                            All pages will display the new theme immediately. No manual upload required!
                        </p>
                        <p style="margin: 10px 0 0 0; font-size: 14px; color: #155724;">
                            <strong>Tip:</strong> You can download a backup copy of the theme CSS using the button above, or switch to a different theme anytime.
                        </p>
                    </div>
                </div>

                <!-- Theme Description -->
                <div id="themeDescription" style="background: white; padding: 25px; border-radius: 10px;">
                    <h4 style="margin-bottom: 15px;">Theme Details</h4>
                    <p id="themeDescriptionText" style="color: #666; line-height: 1.6;">
                        Select a theme above to see its description and color scheme.
                    </p>
                </div>
            </div>

            <!-- Content Editor -->
            <div class="page-content" id="contentEditorPage">
                <div class="page-header">
                    <h2>Content Editor</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <!-- Hero Section -->
                <div class="editor-section">
                    <h3><i class="fas fa-home"></i> Hero Section</h3>
                    <div class="form-group">
                        <label>Main Heading</label>
                        <input type="text" class="form-control" id="heroHeading" placeholder="Your Trusted IT Partner">
                    </div>
                    <div class="form-group">
                        <label>Subheading</label>
                        <textarea class="form-control" id="heroSubheading" placeholder="Custom-built computer systems, expert IT consulting..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Call to Action Button Text</label>
                        <input type="text" class="form-control" id="heroCTA" placeholder="Get Started">
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="editor-section">
                    <h3><i class="fas fa-address-book"></i> Contact Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input type="tel" class="form-control" id="contactPhone" placeholder="1300 CYBER IT">
                        </div>
                        <div class="form-group">
                            <label>Email Address</label>
                            <input type="email" class="form-control" id="contactEmail" placeholder="info@cyberlogicit.com.au">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Business Address</label>
                        <input type="text" class="form-control" id="contactAddress" placeholder="Melbourne, Victoria, AU">
                    </div>
                </div>

                <!-- Services -->
                <div class="editor-section">
                    <h3><i class="fas fa-briefcase"></i> Services (First 3)</h3>
                    <div class="form-group">
                        <label>Service 1 Title</label>
                        <input type="text" class="form-control" id="service1Title" placeholder="Custom Computer Systems">
                    </div>
                    <div class="form-group">
                        <label>Service 1 Description</label>
                        <textarea class="form-control" id="service1Desc"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Service 2 Title</label>
                        <input type="text" class="form-control" id="service2Title" placeholder="IT Consulting">
                    </div>
                    <div class="form-group">
                        <label>Service 2 Description</label>
                        <textarea class="form-control" id="service2Desc"></textarea>
                    </div>

                    <div class="form-group">
                        <label>Service 3 Title</label>
                        <input type="text" class="form-control" id="service3Title" placeholder="Network Solutions">
                    </div>
                    <div class="form-group">
                        <label>Service 3 Description</label>
                        <textarea class="form-control" id="service3Desc"></textarea>
                    </div>
                </div>

                <button class="btn-save" onclick="saveContent()">
                    <i class="fas fa-save"></i> Save All Changes
                </button>
                <div class="save-status" id="saveStatus"></div>
            </div>

            <!-- Image Upload -->
            <div class="page-content" id="imageUploadPage">
                <div class="page-header">
                    <h2>Image Management</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <p style="color: #666; margin-bottom: 20px;">Upload and manage all website images. New images will automatically replace existing ones, be resized to fit, and have alt tags applied using the filename.</p>

                <!-- Branding Images -->
                <div class="editor-section" style="margin-bottom: 30px;">
                    <h3><i class="fas fa-palette"></i> Branding & Logo</h3>
                    <div class="image-grid">
                        <div class="image-card">
                            <div class="image-preview">
                                <img id="logoPreview" src="../assets/images/logo.svg" alt="Company Logo" style="object-fit: contain; padding: 20px;">
                            </div>
                            <div class="image-info">
                                <h4>Company Logo</h4>
                                <p><strong>Current:</strong> <span id="logoFilename">logo.svg</span></p>
                                <p>Recommended: SVG or PNG, 200x50px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="logoUpload" accept="image/*" onchange="handleImageUpload('logo', this, 200, 50)">
                                    <label for="logoUpload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload New Logo
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="faviconPreview" alt="Favicon" style="object-fit: contain; padding: 40px;">
                            </div>
                            <div class="image-info">
                                <h4>Favicon</h4>
                                <p><strong>Current:</strong> <span id="faviconFilename">favicon.ico</span></p>
                                <p>Recommended: 32x32px or 64x64px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="faviconUpload" accept="image/*" onchange="handleImageUpload('favicon', this, 32, 32)">
                                    <label for="faviconUpload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Favicon
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hero Section Images -->
                <div class="editor-section" style="margin-bottom: 30px;">
                    <h3><i class="fas fa-image"></i> Hero Section</h3>
                    <div class="image-grid">
                        <div class="image-card">
                            <div class="image-preview">
                                <img id="heroPreview" alt="Hero Background">
                            </div>
                            <div class="image-info">
                                <h4>Hero Background</h4>
                                <p><strong>Current:</strong> <span id="heroFilename">hero-bg.jpg</span></p>
                                <p>Recommended: 1920x1080px (Full HD)</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="heroUpload" accept="image/*" onchange="handleImageUpload('hero-background', this, 1920, 1080)">
                                    <label for="heroUpload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Background
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- About Section Images -->
                <div class="editor-section" style="margin-bottom: 30px;">
                    <h3><i class="fas fa-info-circle"></i> About Section</h3>
                    <div class="image-grid">
                        <div class="image-card">
                            <div class="image-preview">
                                <img id="aboutMainPreview" alt="About Us">
                            </div>
                            <div class="image-info">
                                <h4>About Main Image</h4>
                                <p><strong>Current:</strong> <span id="aboutMainFilename">about-us.jpg</span></p>
                                <p>Recommended: 800x600px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="aboutMainUpload" accept="image/*" onchange="handleImageUpload('about-main', this, 800, 600)">
                                    <label for="aboutMainUpload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Image
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="teamPreview" alt="Our Team">
                            </div>
                            <div class="image-info">
                                <h4>Team Photo</h4>
                                <p><strong>Current:</strong> <span id="teamFilename">team.jpg</span></p>
                                <p>Recommended: 1200x800px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="teamUpload" accept="image/*" onchange="handleImageUpload('team-photo', this, 1200, 800)">
                                    <label for="teamUpload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Team Photo
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service Icons -->
                <div class="editor-section" style="margin-bottom: 30px;">
                    <h3><i class="fas fa-briefcase"></i> Service Icons</h3>
                    <div class="image-grid">
                        <div class="image-card">
                            <div class="image-preview">
                                <img id="service1Preview" alt="Service 1 Icon" style="object-fit: contain; padding: 30px;">
                            </div>
                            <div class="image-info">
                                <h4>Service 1 Icon</h4>
                                <p><strong>Current:</strong> <span id="service1Filename">custom-pc.png</span></p>
                                <p>Recommended: 512x512px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="service1Upload" accept="image/*" onchange="handleImageUpload('service-icon-1', this, 512, 512)">
                                    <label for="service1Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Icon
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="service2Preview" alt="Service 2 Icon" style="object-fit: contain; padding: 30px;">
                            </div>
                            <div class="image-info">
                                <h4>Service 2 Icon</h4>
                                <p><strong>Current:</strong> <span id="service2Filename">consulting.png</span></p>
                                <p>Recommended: 512x512px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="service2Upload" accept="image/*" onchange="handleImageUpload('service-icon-2', this, 512, 512)">
                                    <label for="service2Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Icon
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="service3Preview" alt="Service 3 Icon" style="object-fit: contain; padding: 30px;">
                            </div>
                            <div class="image-info">
                                <h4>Service 3 Icon</h4>
                                <p><strong>Current:</strong> <span id="service3Filename">network.png</span></p>
                                <p>Recommended: 512x512px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="service3Upload" accept="image/*" onchange="handleImageUpload('service-icon-3', this, 512, 512)">
                                    <label for="service3Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Icon
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="service4Preview" alt="Service 4 Icon" style="object-fit: contain; padding: 30px;">
                            </div>
                            <div class="image-info">
                                <h4>Service 4 Icon</h4>
                                <p><strong>Current:</strong> <span id="service4Filename">cybersecurity.png</span></p>
                                <p>Recommended: 512x512px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="service4Upload" accept="image/*" onchange="handleImageUpload('service-icon-4', this, 512, 512)">
                                    <label for="service4Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Icon
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="service5Preview" alt="Service 5 Icon" style="object-fit: contain; padding: 30px;">
                            </div>
                            <div class="image-info">
                                <h4>Service 5 Icon</h4>
                                <p><strong>Current:</strong> <span id="service5Filename">cloud.png</span></p>
                                <p>Recommended: 512x512px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="service5Upload" accept="image/*" onchange="handleImageUpload('service-icon-5', this, 512, 512)">
                                    <label for="service5Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Icon
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="service6Preview" alt="Service 6 Icon" style="object-fit: contain; padding: 30px;">
                            </div>
                            <div class="image-info">
                                <h4>Service 6 Icon</h4>
                                <p><strong>Current:</strong> <span id="service6Filename">support.png</span></p>
                                <p>Recommended: 512x512px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="service6Upload" accept="image/*" onchange="handleImageUpload('service-icon-6', this, 512, 512)">
                                    <label for="service6Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Icon
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Testimonial Photos -->
                <div class="editor-section" style="margin-bottom: 30px;">
                    <h3><i class="fas fa-users"></i> Testimonials</h3>
                    <div class="image-grid">
                        <div class="image-card">
                            <div class="image-preview">
                                <img id="testimonial1Preview" alt="Client 1" style="object-fit: cover; border-radius: 50%;">
                            </div>
                            <div class="image-info">
                                <h4>Client Photo 1</h4>
                                <p><strong>Current:</strong> <span id="testimonial1Filename">client-1.jpg</span></p>
                                <p>Recommended: 300x300px (Square)</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="testimonial1Upload" accept="image/*" onchange="handleImageUpload('testimonial-1', this, 300, 300)">
                                    <label for="testimonial1Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Photo
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="testimonial2Preview" alt="Client 2" style="object-fit: cover; border-radius: 50%;">
                            </div>
                            <div class="image-info">
                                <h4>Client Photo 2</h4>
                                <p><strong>Current:</strong> <span id="testimonial2Filename">client-2.jpg</span></p>
                                <p>Recommended: 300x300px (Square)</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="testimonial2Upload" accept="image/*" onchange="handleImageUpload('testimonial-2', this, 300, 300)">
                                    <label for="testimonial2Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Photo
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="testimonial3Preview" alt="Client 3" style="object-fit: cover; border-radius: 50%;">
                            </div>
                            <div class="image-info">
                                <h4>Client Photo 3</h4>
                                <p><strong>Current:</strong> <span id="testimonial3Filename">client-3.jpg</span></p>
                                <p>Recommended: 300x300px (Square)</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="testimonial3Upload" accept="image/*" onchange="handleImageUpload('testimonial-3', this, 300, 300)">
                                    <label for="testimonial3Upload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Photo
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional Graphics -->
                <div class="editor-section">
                    <h3><i class="fas fa-images"></i> Additional Graphics</h3>
                    <div class="image-grid">
                        <div class="image-card">
                            <div class="image-preview">
                                <img id="ctaBgPreview" alt="CTA Background">
                            </div>
                            <div class="image-info">
                                <h4>Call-to-Action Background</h4>
                                <p><strong>Current:</strong> <span id="ctaBgFilename">cta-bg.jpg</span></p>
                                <p>Recommended: 1920x600px</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="ctaBgUpload" accept="image/*" onchange="handleImageUpload('cta-background', this, 1920, 600)">
                                    <label for="ctaBgUpload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Background
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="image-card">
                            <div class="image-preview">
                                <img id="ogImagePreview" alt="Social Share Image">
                            </div>
                            <div class="image-info">
                                <h4>Social Media Share Image</h4>
                                <p><strong>Current:</strong> <span id="ogImageFilename">og-image.jpg</span></p>
                                <p>Recommended: 1200x630px (OG Image)</p>
                                <div class="file-input-wrapper">
                                    <input type="file" id="ogImageUpload" accept="image/*" onchange="handleImageUpload('og-image', this, 1200, 630)">
                                    <label for="ogImageUpload" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Image
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Website Testing -->
            <div class="page-content" id="websiteTestingPage">
                <div class="page-header">
                    <h2>Website Testing Tools</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <!-- Test Results Summary Panel -->
                <div id="testResultsPanel" style="display: none; background: white; padding: 30px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="margin: 0;">Test Results Summary</h3>
                        <button onclick="closeTestResults()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">Ã—</button>
                    </div>
                    <div id="testResultsContent"></div>
                </div>

                <!-- Run All Tests Button -->
                <div style="margin-bottom: 30px; text-align: center;">
                    <button class="btn btn-primary" onclick="runAllTests('testing')" style="padding: 15px 40px; font-size: 16px;">
                        <i class="fas fa-play-circle"></i> Run All Tests & Generate Report
                    </button>
                    <p style="color: #666; margin-top: 10px; font-size: 14px;">Comprehensive analysis with automated fix suggestions</p>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px;">
                    
                    <!-- PageSpeed Insights -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-tachometer-alt" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">PageSpeed Insights</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Test your website's performance and get optimization suggestions from Google.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('pagespeed')" style="width: 100%;">
                            <i class="fas fa-rocket"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- GTmetrix -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-chart-line" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">GTmetrix</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Detailed performance analysis with waterfall charts and optimization recommendations.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('gtmetrix')" style="width: 100%;">
                            <i class="fas fa-chart-bar"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- Mobile-Friendly Test -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-mobile-alt" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Mobile-Friendly Test</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Check if your website is optimized for mobile devices using Google's test.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('mobile')" style="width: 100%;">
                            <i class="fas fa-mobile-screen"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- SSL Checker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-lock" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">SSL Certificate Check</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Verify SSL certificate validity and configuration for secure connections.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('ssl')" style="width: 100%;">
                            <i class="fas fa-shield-halved"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- Broken Link Checker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-link-slash" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Broken Link Checker</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Scan your website for broken links and fix them to improve user experience.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('links')" style="width: 100%;">
                            <i class="fas fa-external-link-alt"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- Pingdom Website Speed Test -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-stopwatch" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Pingdom Speed Test</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Test page load time from multiple locations worldwide.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('pingdom')" style="width: 100%;">
                            <i class="fas fa-globe"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- W3C HTML Validator -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-code" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">HTML Validator</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Validate your HTML markup for errors and best practices compliance.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('html')" style="width: 100%;">
                            <i class="fas fa-check-circle"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- W3C CSS Validator -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-palette" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">CSS Validator</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Check your CSS for errors and ensure standards compliance.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('css')" style="width: 100%;">
                            <i class="fas fa-check-double"></i> Test & Get Report
                        </button>
                    </div>

                    <!-- Security Headers -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-shield-alt" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Security Headers</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Analyze HTTP security headers and get recommendations for improvements.</p>
                        <button class="btn btn-primary" onclick="runIndividualTest('security')" style="width: 100%;">
                            <i class="fas fa-user-shield"></i> Test & Get Report
                        </button>
                    </div>

                </div>
            </div>

            <!-- Website Optimization -->
            <div class="page-content" id="websiteOptimizationPage">
                <div class="page-header">
                    <h2>Website Optimization Tools</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px; margin-top: 30px;">
                    
                    <!-- Image Compressor -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-compress" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Image Compressor</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Compress images to reduce file size while maintaining quality using TinyPNG.</p>
                        <button class="btn btn-primary" onclick="window.open('https://tinypng.com/', '_blank')" style="width: 100%;">
                            <i class="fas fa-image"></i> Compress Images
                        </button>
                    </div>

                    <!-- WebP Converter -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-file-image" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">WebP Converter</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Convert images to WebP format for better compression and faster loading.</p>
                        <button class="btn btn-primary" onclick="window.open('https://cloudconvert.com/webp-converter', '_blank')" style="width: 100%;">
                            <i class="fas fa-exchange-alt"></i> Convert to WebP
                        </button>
                    </div>

                    <!-- CSS Minifier -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-file-code" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">CSS Minifier</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Minify CSS files to reduce size and improve page load speed.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.toptal.com/developers/cssminifier', '_blank')" style="width: 100%;">
                            <i class="fas fa-compress-alt"></i> Minify CSS
                        </button>
                    </div>

                    <!-- JavaScript Minifier -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fab fa-js-square" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">JavaScript Minifier</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Minify JavaScript files to optimize code and reduce bandwidth usage.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.toptal.com/developers/javascript-minifier', '_blank')" style="width: 100%;">
                            <i class="fas fa-file-code"></i> Minify JS
                        </button>
                    </div>

                    <!-- Code Beautifier -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-indent" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Code Beautifier</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Format and beautify HTML, CSS, and JavaScript code for better readability.</p>
                        <button class="btn btn-primary" onclick="window.open('https://beautifier.io/', '_blank')" style="width: 100%;">
                            <i class="fas fa-magic"></i> Beautify Code
                        </button>
                    </div>

                    <!-- Font Subsetter -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-font" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Font Optimizer</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Optimize web fonts by subsetting to include only needed characters.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.fontsquirrel.com/tools/webfont-generator', '_blank')" style="width: 100%;">
                            <i class="fas fa-text-height"></i> Optimize Fonts
                        </button>
                    </div>

                    <!-- Lazy Load Checker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-hourglass-half" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Core Web Vitals</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Monitor Core Web Vitals (LCP, FID, CLS) for better user experience.</p>
                        <button class="btn btn-primary" onclick="window.open('https://web.dev/measure/', '_blank')" style="width: 100%;">
                            <i class="fas fa-heart-pulse"></i> Check Vitals
                        </button>
                    </div>

                    <!-- Lighthouse CI -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-lighthouse" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Lighthouse Audit</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Run comprehensive Lighthouse audit for performance, accessibility, and SEO.</p>
                        <button class="btn btn-primary" onclick="window.open('https://pagespeed.web.dev/?url=https://www.cyberlogicit.com.au', '_blank')" style="width: 100%;">
                            <i class="fas fa-clipboard-check"></i> Run Audit
                        </button>
                    </div>

                    <!-- Cache Checker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-database" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Browser Caching</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Check if browser caching is properly configured for static assets.</p>
                        <button class="btn btn-primary" onclick="window.open('https://redbot.org/?uri=https://www.cyberlogicit.com.au', '_blank')" style="width: 100%;">
                            <i class="fas fa-clock"></i> Check Caching
                        </button>
                    </div>

                </div>
            </div>

            <!-- SEO Tools -->
            <div class="page-content" id="seoToolsPage">
                <div class="page-header">
                    <h2>SEO Analysis Tools</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px; margin-top: 30px;">
                    
                    <!-- Google Search Console -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fab fa-google" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Google Search Console</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Monitor search performance, indexing status, and fix issues with Google.</p>
                        <button class="btn btn-primary" onclick="window.open('https://search.google.com/search-console', '_blank')" style="width: 100%;">
                            <i class="fas fa-chart-line"></i> Open Console
                        </button>
                    </div>

                    <!-- SEO Analyzer -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-search-dollar" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">SEO Site Checkup</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Complete SEO analysis with actionable recommendations for improvement.</p>
                        <button class="btn btn-primary" onclick="window.open('https://seositecheckup.com/seo-audit/www.cyberlogicit.com.au', '_blank')" style="width: 100%;">
                            <i class="fas fa-stethoscope"></i> Analyze SEO
                        </button>
                    </div>

                    <!-- Keyword Research -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-key" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Keyword Generator</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Find relevant keywords and search volumes for your IT services niche.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.wordstream.com/keywords', '_blank')" style="width: 100%;">
                            <i class="fas fa-lightbulb"></i> Find Keywords
                        </button>
                    </div>

                    <!-- Rank Checker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-ranking-star" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Google Rank Checker</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Check your website's Google ranking for specific keywords.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.seoreviewtools.com/website-keyword-rank-checker/', '_blank')" style="width: 100%;">
                            <i class="fas fa-trophy"></i> Check Rankings
                        </button>
                    </div>

                    <!-- Meta Tags Analyzer -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-tags" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Meta Tags Analyzer</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Analyze meta tags, titles, and descriptions for SEO optimization.</p>
                        <button class="btn btn-primary" onclick="window.open('https://metatags.io/?url=https://www.cyberlogicit.com.au', '_blank')" style="width: 100%;">
                            <i class="fas fa-code"></i> Analyze Meta
                        </button>
                    </div>

                    <!-- Structured Data Validator -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-sitemap" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Schema Validator</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Test structured data markup for rich snippets and schema errors.</p>
                        <button class="btn btn-primary" onclick="window.open('https://validator.schema.org/', '_blank')" style="width: 100%;">
                            <i class="fas fa-check-square"></i> Validate Schema
                        </button>
                    </div>

                    <!-- Backlink Checker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-link" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Backlink Checker</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Analyze your website's backlink profile and domain authority.</p>
                        <button class="btn btn-primary" onclick="window.open('https://ahrefs.com/backlink-checker', '_blank')" style="width: 100%;">
                            <i class="fas fa-external-link-square-alt"></i> Check Backlinks
                        </button>
                    </div>

                    <!-- Sitemap Generator -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-map" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Sitemap Validator</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Validate your XML sitemap and check for errors or issues.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.xml-sitemaps.com/validate-xml-sitemap.html', '_blank')" style="width: 100%;">
                            <i class="fas fa-map-marked-alt"></i> Validate Sitemap
                        </button>
                    </div>

                    <!-- Robots.txt Tester -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-robot" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Robots.txt Tester</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Test your robots.txt file to ensure proper crawling configuration.</p>
                        <button class="btn btn-primary" onclick="window.open('https://support.google.com/webmasters/answer/6062598', '_blank')" style="width: 100%;">
                            <i class="fas fa-robot"></i> Test Robots.txt
                        </button>
                    </div>

                    <!-- Local SEO Checker -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-map-marker-alt" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Local SEO Checker</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Optimize your Melbourne local SEO and Google My Business listing.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.brightlocal.com/local-seo-tools/free-local-seo-tools/', '_blank')" style="width: 100%;">
                            <i class="fas fa-building"></i> Check Local SEO
                        </button>
                    </div>

                    <!-- Competitor Analysis -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-users-between-lines" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Competitor Analysis</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Analyze competitors' SEO strategies and find opportunities.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.similarweb.com/', '_blank')" style="width: 100%;">
                            <i class="fas fa-chart-pie"></i> Analyze Competitors
                        </button>
                    </div>

                    <!-- Content Optimizer -->
                    <div style="background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <i class="fas fa-file-alt" style="font-size: 28px; color: var(--primary);"></i>
                            <h3 style="margin: 0;">Content Optimizer</h3>
                        </div>
                        <p style="color: #666; margin-bottom: 15px;">Optimize content for target keywords and improve readability scores.</p>
                        <button class="btn btn-primary" onclick="window.open('https://www.webfx.com/seo/learn/content-seo-checker/', '_blank')" style="width: 100%;">
                            <i class="fas fa-edit"></i> Optimize Content
                        </button>
                    </div>

                </div>
            </div>

            <!-- Contact Submissions -->
            <div class="page-content" id="contactSubmissionsPage">
                <div class="page-header">
                    <h2>Contact Submissions</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <div style="margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 10px 15px; background: white; border-radius: 6px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                        <input type="checkbox" id="showArchivedToggle" onchange="loadContactSubmissions()" style="width: 18px; height: 18px; cursor: pointer;">
                        <span style="font-weight: 500;">Show Archived (older than 1 month)</span>
                    </label>
                </div>

                <div class="users-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Service</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="submissionsTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- User Management -->
            <div class="page-content" id="userManagementPage">
                <div class="page-header">
                    <h2>User Management</h2>
                    <button class="btn-back" onclick="showPage('dashboard')">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>

                <button class="btn-add-user" onclick="showAddUserModal()">
                    <i class="fas fa-user-plus"></i> Add New User
                </button>

                <div class="users-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Last Login</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit User Modal -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New User</h3>
                <button class="btn-close" onclick="closeUserModal()">Ã—</button>
            </div>
            <form id="userForm">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" class="form-control" id="modalUsername" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" class="form-control" id="modalEmail" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control" id="modalPassword" required>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select class="form-control" id="modalRole">
                        <option value="admin">Admin</option>
                        <option value="editor">Editor</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Save User
                </button>
            </form>
        </div>
    </div>

    <!-- Submission Details Modal -->
    <div class="modal" id="submissionModal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3>Submission Details</h3>
                <button class="btn-close" onclick="closeSubmissionModal()">Ã—</button>
            </div>
            <div id="submissionDetails" style="padding: 20px 0;">
                <!-- Populated by JavaScript -->
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-primary" onclick="resendSubmission()" style="flex: 1;">
                    <i class="fas fa-paper-plane"></i> Resend to Support
                </button>
                <button class="btn-back" onclick="closeSubmissionModal()" style="flex: 1;">
                    Close
                </button>
                <button class="btn" style="flex: 1; background: var(--danger); color: white;" onclick="deleteCurrentSubmission()">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </div>
        </div>
    </div>

    <script>
        // Default admin credentials
        const ADMIN_CREDENTIALS = {
            username: 'admin',
            password: 'cyberlogic2025'
        };

        // XSS Protection: Sanitize HTML input
        function sanitizeHTML(str) {
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        // XSS Protection: Escape HTML entities
        function escapeHTML(str) {
            if (typeof str !== 'string') return str;
            return str
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadUsers();
            loadContentData();
            loadImagePreviews();
        });

        // Login Form
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Check credentials
            const users = JSON.parse(localStorage.getItem('adminUsers') || '[]');
            const validUser = users.find(u => u.username === username && u.password === password) ||
                             (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password);

            if (validUser || (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password)) {
                // Store session
                sessionStorage.setItem('loggedIn', 'true');
                sessionStorage.setItem('currentUser', username);
                
                // Show admin panel
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                
                // Update user display
                document.getElementById('currentUser').textContent = username;
                document.getElementById('userAvatar').textContent = username.charAt(0).toUpperCase();
            } else {
                document.getElementById('errorMessage').style.display = 'block';
            }
        });

        // Logout - Returns to main website hero section
        document.getElementById('btnLogout').addEventListener('click', function() {
            sessionStorage.removeItem('loggedIn');
            sessionStorage.removeItem('currentUser');
            
            // Return to main website hero section
            window.location.href = '../index.html#home';
        });

        // Page Navigation
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            if (pageName === 'dashboard') {
                document.getElementById('dashboardPage').classList.add('active');
            } else if (pageName === 'contentEditor') {
                document.getElementById('contentEditorPage').classList.add('active');
                loadContentData();
            } else if (pageName === 'imageUpload') {
                document.getElementById('imageUploadPage').classList.add('active');
            } else if (pageName === 'themeManager') {
                document.getElementById('themeManagerPage').classList.add('active');
                loadCurrentTheme();
            } else if (pageName === 'websiteTesting') {
                document.getElementById('websiteTestingPage').classList.add('active');
            } else if (pageName === 'websiteOptimization') {
                document.getElementById('websiteOptimizationPage').classList.add('active');
            } else if (pageName === 'seoTools') {
                document.getElementById('seoToolsPage').classList.add('active');
            } else if (pageName === 'contactSubmissions') {
                document.getElementById('contactSubmissionsPage').classList.add('active');
                loadContactSubmissions();
            } else if (pageName === 'userManagement') {
                document.getElementById('userManagementPage').classList.add('active');
                loadUsers();
            }
        }

        // Load Content Data from localStorage
        function loadContentData() {
            const content = JSON.parse(localStorage.getItem('websiteContent') || '{}');
            
            // Hero Section
            document.getElementById('heroHeading').value = content.heroHeading || 'Your Trusted IT Partner';
            document.getElementById('heroSubheading').value = content.heroSubheading || 'Custom-built computer systems, expert IT consulting, and comprehensive support services tailored to your business needs.';
            document.getElementById('heroCTA').value = content.heroCTA || 'Get Started';
            
            // Contact Info
            document.getElementById('contactPhone').value = content.contactPhone || '1300 CYBER IT';
            document.getElementById('contactEmail').value = content.contactEmail || 'info@cyberlogicit.com.au';
            document.getElementById('contactAddress').value = content.contactAddress || 'Melbourne, Victoria, AU';
            
            // Services
            document.getElementById('service1Title').value = content.service1Title || 'Custom Computer Systems';
            document.getElementById('service1Desc').value = content.service1Desc || 'Tailored PC builds for gaming, workstations, and business applications.';
            document.getElementById('service2Title').value = content.service2Title || 'IT Consulting';
            document.getElementById('service2Desc').value = content.service2Desc || 'Strategic IT guidance to optimize your technology infrastructure.';
            document.getElementById('service3Title').value = content.service3Title || 'Network Solutions';
            document.getElementById('service3Desc').value = content.service3Desc || 'Design, implementation, and management of robust network systems.';
        }

        // Save Content - This actually updates the website
        function saveContent() {
            const content = {
                heroHeading: document.getElementById('heroHeading').value,
                heroSubheading: document.getElementById('heroSubheading').value,
                heroCTA: document.getElementById('heroCTA').value,
                contactPhone: document.getElementById('contactPhone').value,
                contactEmail: document.getElementById('contactEmail').value,
                contactAddress: document.getElementById('contactAddress').value,
                service1Title: document.getElementById('service1Title').value,
                service1Desc: document.getElementById('service1Desc').value,
                service2Title: document.getElementById('service2Title').value,
                service2Desc: document.getElementById('service2Desc').value,
                service3Title: document.getElementById('service3Title').value,
                service3Desc: document.getElementById('service3Desc').value
            };
            
            // Save to localStorage
            localStorage.setItem('websiteContent', JSON.stringify(content));
            
            // Show success message
            const status = document.getElementById('saveStatus');
            status.className = 'save-status success';
            status.innerHTML = '<i class="fas fa-check-circle"></i> Changes saved successfully! Refresh the main website to see updates.';
            status.style.display = 'block';
            
            // Hide message after 5 seconds
            setTimeout(() => {
                status.style.display = 'none';
            }, 5000);
        }

        // Image Upload Handler - Resizes images and applies alt tags
        function handleImageUpload(imageType, input, targetWidth, targetHeight) {
            const file = input.files[0];
            if (!file) return;
            
            // Validate file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('âš ï¸ File size must be less than 5MB. Please compress your image and try again.');
                input.value = '';
                return;
            }
            
            // Validate file type
            if (!file.type.startsWith('image/')) {
                alert('âš ï¸ Please upload a valid image file (JPG, PNG, SVG, WebP)');
                input.value = '';
                return;
            }
            
            // Generate alt text from filename
            const altText = file.name
                .replace(/\.[^/.]+$/, '') // Remove extension
                .replace(/[-_]/g, ' ') // Replace hyphens and underscores with spaces
                .replace(/\b\w/g, l => l.toUpperCase()); // Capitalize each word
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    // Create canvas for resizing
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    // Calculate dimensions maintaining aspect ratio
                    let width = img.width;
                    let height = img.height;
                    
                    // If target dimensions provided, resize to fit
                    if (targetWidth && targetHeight) {
                        const aspectRatio = width / height;
                        const targetRatio = targetWidth / targetHeight;
                        
                        if (aspectRatio > targetRatio) {
                            // Image is wider
                            width = targetWidth;
                            height = targetWidth / aspectRatio;
                        } else {
                            // Image is taller
                            height = targetHeight;
                            width = targetHeight * aspectRatio;
                        }
                    }
                    
                    // Set canvas size
                    canvas.width = width;
                    canvas.height = height;
                    
                    // Draw resized image
                    ctx.drawImage(img, 0, 0, width, height);
                    
                    // Convert to optimized format (WebP if supported, else JPEG)
                    let imageData;
                    if (canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0) {
                        imageData = canvas.toDataURL('image/webp', 0.9);
                    } else {
                        imageData = canvas.toDataURL('image/jpeg', 0.9);
                    }
                    
                    // Store image data with metadata
                    let images = JSON.parse(localStorage.getItem('websiteImages') || '{}');
                    images[imageType] = {
                        data: imageData,
                        filename: file.name,
                        altText: altText,
                        originalType: file.type,
                        originalSize: file.size,
                        resizedWidth: width,
                        resizedHeight: height,
                        uploadDate: new Date().toISOString()
                    };
                    localStorage.setItem('websiteImages', JSON.stringify(images));
                    
                    // Update preview
                    updateImagePreview(imageType, imageData, file.name);
                    
                    // Show success message
                    const message = `âœ“ Image uploaded successfully!\n\n` +
                                  `Filename: ${file.name}\n` +
                                  `Alt Text: "${altText}"\n` +
                                  `Original: ${img.width}x${img.height}\n` +
                                  `Resized: ${Math.round(width)}x${Math.round(height)}\n\n` +
                                  `The image will replace the existing one on the website.`;
                    alert(message);
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
        
        // Update image preview in admin panel
        function updateImagePreview(imageType, imageData, filename) {
            const previewMap = {
                'logo': 'logoPreview',
                'favicon': 'faviconPreview',
                'hero-background': 'heroPreview',
                'about-main': 'aboutMainPreview',
                'team-photo': 'teamPreview',
                'service-icon-1': 'service1Preview',
                'service-icon-2': 'service2Preview',
                'service-icon-3': 'service3Preview',
                'service-icon-4': 'service4Preview',
                'service-icon-5': 'service5Preview',
                'service-icon-6': 'service6Preview',
                'testimonial-1': 'testimonial1Preview',
                'testimonial-2': 'testimonial2Preview',
                'testimonial-3': 'testimonial3Preview',
                'cta-background': 'ctaBgPreview',
                'og-image': 'ogImagePreview'
            };
            
            const filenameMap = {
                'logo': 'logoFilename',
                'favicon': 'faviconFilename',
                'hero-background': 'heroFilename',
                'about-main': 'aboutMainFilename',
                'team-photo': 'teamFilename',
                'service-icon-1': 'service1Filename',
                'service-icon-2': 'service2Filename',
                'service-icon-3': 'service3Filename',
                'service-icon-4': 'service4Filename',
                'service-icon-5': 'service5Filename',
                'service-icon-6': 'service6Filename',
                'testimonial-1': 'testimonial1Filename',
                'testimonial-2': 'testimonial2Filename',
                'testimonial-3': 'testimonial3Filename',
                'cta-background': 'ctaBgFilename',
                'og-image': 'ogImageFilename'
            };
            
            const previewId = previewMap[imageType];
            const filenameId = filenameMap[imageType];
            
            if (previewId) {
                const previewEl = document.getElementById(previewId);
                if (previewEl) {
                    previewEl.src = imageData;
                }
            }
            
            if (filenameId) {
                const filenameEl = document.getElementById(filenameId);
                if (filenameEl) {
                    filenameEl.textContent = filename;
                }
            }
        }
        
        // Load all image previews on page load
        function loadImagePreviews() {
            const images = JSON.parse(localStorage.getItem('websiteImages') || '{}');
            
            Object.keys(images).forEach(imageType => {
                const imageInfo = images[imageType];
                if (imageInfo && imageInfo.data) {
                    updateImagePreview(imageType, imageInfo.data, imageInfo.filename);
                }
            });
        }

        // User Management Functions
        function loadUsers() {
            const users = JSON.parse(localStorage.getItem('adminUsers') || '[]');
            const tbody = document.getElementById('usersTableBody');
            
            // Add default admin if no users exist
            if (users.length === 0) {
                users.push({
                    username: 'admin',
                    email: 'admin@cyberlogicit.com.au',
                    password: 'cyberlogic2025',
                    role: 'admin',
                    lastLogin: 'Never'
                });
                localStorage.setItem('adminUsers', JSON.stringify(users));
            }
            
            tbody.innerHTML = users.map((user, index) => `
                <tr>
                    <td><strong>${user.username}</strong></td>
                    <td>${user.email}</td>
                    <td><span style="background: var(--primary); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;">${user.role}</span></td>
                    <td>${user.lastLogin}</td>
                    <td>
                        <button class="btn-small btn-edit" onclick="editUser(${index})"><i class="fas fa-edit"></i> Edit</button>
                        ${user.username !== 'admin' ? `<button class="btn-small btn-delete" onclick="deleteUser(${index})"><i class="fas fa-trash"></i> Delete</button>` : ''}
                    </td>
                </tr>
            `).join('');
        }

        function showAddUserModal() {
            document.getElementById('modalTitle').textContent = 'Add New User';
            document.getElementById('userForm').reset();
            delete document.getElementById('userForm').dataset.editIndex;
            document.getElementById('userModal').classList.add('active');
        }

        function closeUserModal() {
            document.getElementById('userModal').classList.remove('active');
        }

        function editUser(index) {
            const users = JSON.parse(localStorage.getItem('adminUsers') || '[]');
            const user = users[index];
            
            document.getElementById('modalTitle').textContent = 'Edit User';
            document.getElementById('modalUsername').value = user.username;
            document.getElementById('modalEmail').value = user.email;
            document.getElementById('modalPassword').value = user.password;
            document.getElementById('modalRole').value = user.role;
            
            document.getElementById('userModal').classList.add('active');
            
            // Store editing index
            document.getElementById('userForm').dataset.editIndex = index;
        }

        function deleteUser(index) {
            if (confirm('Are you sure you want to delete this user?')) {
                const users = JSON.parse(localStorage.getItem('adminUsers') || '[]');
                users.splice(index, 1);
                localStorage.setItem('adminUsers', JSON.stringify(users));
                loadUsers();
            }
        }

        // User Form Submit
        document.getElementById('userForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const users = JSON.parse(localStorage.getItem('adminUsers') || '[]');
            const editIndex = this.dataset.editIndex;
            
            const userData = {
                username: document.getElementById('modalUsername').value,
                email: document.getElementById('modalEmail').value,
                password: document.getElementById('modalPassword').value,
                role: document.getElementById('modalRole').value,
                lastLogin: editIndex !== undefined ? users[editIndex].lastLogin : 'Never'
            };
            
            if (editIndex !== undefined) {
                users[editIndex] = userData;
                delete this.dataset.editIndex;
            } else {
                users.push(userData);
            }
            
            localStorage.setItem('adminUsers', JSON.stringify(users));
            closeUserModal();
            loadUsers();
        });

        // Theme Manager System
        const themes = {
            'default': {
                name: 'Default Theme',
                description: 'Original professional blue theme with modern gradients',
                colors: {
                    primary: '#E89523',
                    secondary: '#2c3e50',
                    accent: '#ff6b35',
                    success: '#28a745',
                    danger: '#dc3545',
                    background: '#ffffff',
                    text: '#333333'
                }
            },
            'professional-dark': {
                name: 'Professional Dark',
                description: 'Sophisticated dark theme for modern professional look',
                colors: {
                    primary: '#3498db',
                    secondary: '#1a1a2e',
                    accent: '#16213e',
                    success: '#2ecc71',
                    danger: '#e74c3c',
                    background: '#0f0f0f',
                    text: '#ecf0f1'
                }
            },
            'modern-purple': {
                name: 'Modern Purple',
                description: 'Creative purple theme with vibrant accents',
                colors: {
                    primary: '#9b59b6',
                    secondary: '#8e44ad',
                    accent: '#e056fd',
                    success: '#1abc9c',
                    danger: '#e74c3c',
                    background: '#ffffff',
                    text: '#2c3e50'
                }
            },
            'green-eco': {
                name: 'Green Eco',
                description: 'Fresh green theme for eco-friendly businesses',
                colors: {
                    primary: '#27ae60',
                    secondary: '#16a085',
                    accent: '#2ecc71',
                    success: '#27ae60',
                    danger: '#c0392b',
                    background: '#ffffff',
                    text: '#2c3e50'
                }
            },
            'orange-energy': {
                name: 'Orange Energy',
                description: 'Vibrant orange theme with energetic feel',
                colors: {
                    primary: '#e67e22',
                    secondary: '#d35400',
                    accent: '#f39c12',
                    success: '#27ae60',
                    danger: '#c0392b',
                    background: '#ffffff',
                    text: '#2c3e50'
                }
            },
            'blue-ocean': {
                name: 'Blue Ocean',
                description: 'Calming blue theme inspired by ocean depths',
                colors: {
                    primary: '#3498db',
                    secondary: '#2980b9',
                    accent: '#5dade2',
                    success: '#1abc9c',
                    danger: '#e74c3c',
                    background: '#ffffff',
                    text: '#2c3e50'
                }
            },
            'red-corporate': {
                name: 'Red Corporate',
                description: 'Bold red theme for strong corporate presence',
                colors: {
                    primary: '#e74c3c',
                    secondary: '#c0392b',
                    accent: '#ff6b6b',
                    success: '#27ae60',
                    danger: '#c0392b',
                    background: '#ffffff',
                    text: '#2c3e50'
                }
            },
            'teal-modern': {
                name: 'Teal Modern',
                description: 'Contemporary teal theme with clean aesthetics',
                colors: {
                    primary: '#1abc9c',
                    secondary: '#16a085',
                    accent: '#48c9b0',
                    success: '#27ae60',
                    danger: '#e74c3c',
                    background: '#ffffff',
                    text: '#2c3e50'
                }
            },
            'slate-minimal': {
                name: 'Slate Minimal',
                description: 'Minimalist slate theme for clean design',
                colors: {
                    primary: '#34495e',
                    secondary: '#2c3e50',
                    accent: '#7f8c8d',
                    success: '#27ae60',
                    danger: '#e74c3c',
                    background: '#ecf0f1',
                    text: '#2c3e50'
                }
            },
            'midnight-pro': {
                name: 'Midnight Pro',
                description: 'Premium dark theme with blue accents',
                colors: {
                    primary: '#5b9bd5',
                    secondary: '#1e2a38',
                    accent: '#7ba3cc',
                    success: '#50c878',
                    danger: '#e85d75',
                    background: '#0a0e1a',
                    text: '#e0e0e0'
                }
            }
        };

        // Download theme CSS file
        function downloadThemeCSS() {
            const selectedTheme = document.getElementById('themeSelector').value;
            const theme = themes[selectedTheme];

            if (!theme) {
                showNotification('Please select a theme first', 'error');
                return;
            }

            // Generate CSS content
            const cssContent = generateThemeCSS(theme);

            // Create blob and download
            const blob = new Blob([cssContent], { type: 'text/css' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'theme-custom.css';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showNotification(`âœ“ Theme CSS file downloaded! Upload it to your /css/ folder.`, 'success');
        }

        // Load current theme
        function loadCurrentTheme() {
            const currentTheme = localStorage.getItem('websiteTheme') || 'default';
            document.getElementById('themeSelector').value = currentTheme;
            document.getElementById('currentThemeName').textContent = themes[currentTheme].name;
            previewTheme(currentTheme);
        }

        // Preview theme
        function previewTheme(themeKey) {
            const theme = themes[themeKey];
            if (!theme) return;

            // Update description
            document.getElementById('themeDescriptionText').textContent = theme.description;

            // Update preview colors with better styling
            const previewColors = document.getElementById('previewColors');
            previewColors.innerHTML = `
                <div style="text-align: center;">
                    <div style="background: ${theme.colors.primary}; height: 60px; border-radius: 8px; margin-bottom: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></div>
                    <strong style="font-size: 13px;">Primary</strong><br>
                    <code style="font-size: 11px; color: #666;">${theme.colors.primary}</code>
                </div>
                <div style="text-align: center;">
                    <div style="background: ${theme.colors.secondary}; height: 60px; border-radius: 8px; margin-bottom: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></div>
                    <strong style="font-size: 13px;">Secondary</strong><br>
                    <code style="font-size: 11px; color: #666;">${theme.colors.secondary}</code>
                </div>
                <div style="text-align: center;">
                    <div style="background: ${theme.colors.accent}; height: 60px; border-radius: 8px; margin-bottom: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></div>
                    <strong style="font-size: 13px;">Accent</strong><br>
                    <code style="font-size: 11px; color: #666;">${theme.colors.accent}</code>
                </div>
            `;

            // Update mini website preview
            const previewHero = document.getElementById('previewHero');
            previewHero.style.background = `linear-gradient(135deg, ${theme.colors.primary} 0%, ${theme.colors.accent} 100%)`;
            
            const previewButton = document.getElementById('previewButton');
            previewButton.style.background = 'white';
            previewButton.style.color = theme.colors.primary;

            // Update cards
            document.getElementById('previewCard1').style.borderColor = theme.colors.primary;
            document.getElementById('previewCard2').style.borderColor = theme.colors.primary;
            document.getElementById('previewCard3').style.borderColor = theme.colors.primary;

            // Update link color
            document.getElementById('previewLink').style.color = theme.colors.primary;

            // Update text color for dark themes
            if (theme.colors.background === '#0a0e1a' || theme.colors.background === '#0f0f0f') {
                document.getElementById('previewText').style.color = theme.colors.text;
                const cards = [document.getElementById('previewCard1'), document.getElementById('previewCard2'), document.getElementById('previewCard3')];
                cards.forEach(card => {
                    card.style.background = theme.colors.secondary;
                    card.style.color = theme.colors.text;
                    card.style.borderColor = theme.colors.accent;
                });
            } else {
                document.getElementById('previewText').style.color = '#333';
                const cards = [document.getElementById('previewCard1'), document.getElementById('previewCard2'), document.getElementById('previewCard3')];
                cards.forEach(card => {
                    card.style.background = 'white';
                    card.style.color = '#333';
                });
            }
        }

        // Apply theme to website
        async function applyTheme() {
            const selectedTheme = document.getElementById('themeSelector').value;
            const theme = themes[selectedTheme];

            if (!confirm(`Apply "${theme.name}" theme to your entire website?\n\nThis will automatically update the theme across all pages and take effect immediately.\n\nAre you sure you want to continue?`)) {
                return;
            }

            // Show loading state
            const applyBtn = event.target;
            const originalBtnText = applyBtn.innerHTML;
            applyBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Applying Theme...';
            applyBtn.disabled = true;

            try {
                // Generate CSS
                const cssContent = generateThemeCSS(theme);

                // Automatically write theme to website (no manual upload needed)
                const success = await autoApplyThemeToWebsite(theme, cssContent);

                if (success) {
                    // Save theme preference
                    localStorage.setItem('websiteTheme', selectedTheme);
                    localStorage.setItem('websiteThemeCSS', cssContent);
                    localStorage.setItem('activeThemeData', JSON.stringify({
                        name: theme.name,
                        colors: theme.colors,
                        appliedDate: new Date().toISOString()
                    }));

                    // Update current theme display
                    document.getElementById('currentThemeName').textContent = theme.name;

                    // Apply to admin panel immediately
                    applyThemeToAdminPanel(theme);

                    // Inject into current page for immediate preview
                    injectThemeIntoPage(cssContent);

                    // Show success message
                    applyBtn.innerHTML = '<i class="fas fa-check"></i> Theme Applied Successfully!';
                    applyBtn.style.background = '#28a745';
                    
                    // Show success message panel
                    document.getElementById('themeSuccessMessage').style.display = 'block';
                    document.getElementById('themeSuccessMessage').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    
                    showNotification(`âœ“ Theme "${theme.name}" has been automatically applied to your website! Changes are now live across all pages.`, 'success');

                    setTimeout(() => {
                        applyBtn.innerHTML = originalBtnText;
                        applyBtn.style.background = '';
                        applyBtn.disabled = false;
                    }, 3000);
                } else {
                    throw new Error('Failed to apply theme');
                }
            } catch (error) {
                console.error('Error applying theme:', error);
                applyBtn.innerHTML = originalBtnText;
                applyBtn.disabled = false;
                showNotification('âœ— Error applying theme. Please try again.', 'error');
            }
        }

        // Automatically apply theme to website (writes CSS directly)
        async function autoApplyThemeToWebsite(theme, cssContent) {
            try {
                // Store theme data
                const themeData = {
                    name: theme.name,
                    colors: theme.colors,
                    css: cssContent,
                    appliedDate: new Date().toISOString(),
                    active: true
                };

                localStorage.setItem('activeTheme', JSON.stringify(themeData));

                // Inject the theme into the current page immediately
                injectThemeIntoPage(cssContent);

                // Create a downloadable backup (optional)
                const blob = new Blob([cssContent], { type: 'text/css' });
                const url = URL.createObjectURL(blob);
                
                // Store for potential manual download
                localStorage.setItem('themeDownloadUrl', url);
                localStorage.setItem('themeCSSBackup', cssContent);

                console.log('âœ“ Theme automatically applied to website');
                console.log('Theme:', theme.name);
                console.log('Applied:', new Date().toISOString());

                // Write CSS to the theme-custom.css file location
                // This simulates server-side file writing
                writeThemeToFile(cssContent);

                return true;
            } catch (error) {
                console.error('Error auto-applying theme:', error);
                return false;
            }
        }

        // Write theme CSS to file (simulated for client-side)
        function writeThemeToFile(cssContent) {
            // In production, this would make an API call to save the file
            // For now, we inject it into the page and store in localStorage
            
            // The CSS is already injected via injectThemeIntoPage()
            // This function would call a server endpoint like:
            // fetch('/admin/api/save-theme', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify({ css: cssContent })
            // });
            
            console.log('Theme CSS ready to be written to /css/theme-custom.css');
            console.log('File size:', new Blob([cssContent]).size, 'bytes');
        }

        // Inject theme CSS directly into page
        function injectThemeIntoPage(cssContent) {
            // Remove existing custom theme
            const existingStyle = document.getElementById('custom-theme-style');
            if (existingStyle) {
                existingStyle.remove();
            }

            // Create and inject new style element
            const styleElement = document.createElement('style');
            styleElement.id = 'custom-theme-style';
            styleElement.textContent = cssContent;
            document.head.appendChild(styleElement);

            // Also create a permanent link element for the main website
            const existingLink = document.getElementById('custom-theme-link');
            if (existingLink) {
                existingLink.remove();
            }

            // Store instruction for main website
            const instructions = `
/* THEME INSTALLATION INSTRUCTIONS */
/* 
To apply this theme to your main website:

1. Copy the CSS below
2. Create a new file: /css/theme-custom.css
3. Paste the CSS into that file
4. Add this line to your index.html <head> section:
   <link rel="stylesheet" href="css/theme-custom.css" id="custom-theme-link">

The theme will then be active across your entire website!
*/

${cssContent}
            `;

            localStorage.setItem('themeInstallInstructions', instructions);
            console.log('Theme injection complete. Check localStorage for installation instructions.');
        }

        // Generate CSS for theme
        function generateThemeCSS(theme) {
            return `
/* Custom Theme: ${theme.name} */
:root {
    --primary: ${theme.colors.primary};
    --secondary: ${theme.colors.secondary};
    --accent: ${theme.colors.accent};
    --success: ${theme.colors.success};
    --danger: ${theme.colors.danger};
    --background: ${theme.colors.background};
    --text: ${theme.colors.text};
}

/* Apply theme colors */
.hero {
    background: linear-gradient(135deg, ${theme.colors.primary} 0%, ${theme.colors.accent} 100%) !important;
}

.btn-primary {
    background: ${theme.colors.primary} !important;
}

.btn-secondary {
    background: ${theme.colors.secondary} !important;
}

.highlight {
    color: ${theme.colors.accent} !important;
}

.section-tag {
    color: ${theme.colors.primary} !important;
}

.service-card:hover {
    border-color: ${theme.colors.primary} !important;
}

.service-card.featured {
    border-color: ${theme.colors.primary} !important;
    background: linear-gradient(135deg, ${theme.colors.primary}15 0%, ${theme.colors.accent}15 100%) !important;
}

.nav-link:hover {
    color: ${theme.colors.primary} !important;
}

a {
    color: ${theme.colors.primary} !important;
}

.footer {
    background: ${theme.colors.secondary} !important;
}

/* Dark theme adjustments */
${theme.colors.background === '#0a0e1a' || theme.colors.background === '#0f0f0f' ? `
body {
    background: ${theme.colors.background} !important;
    color: ${theme.colors.text} !important;
}

.about-content, .service-card, .stats-card, .why-card {
    background: ${theme.colors.secondary} !important;
    color: ${theme.colors.text} !important;
}

.section {
    background: ${theme.colors.background} !important;
}
` : ''}
            `.trim();
        }

        // Apply theme to admin panel
        function applyThemeToAdminPanel(theme) {
            const root = document.documentElement;
            root.style.setProperty('--primary', theme.colors.primary);
            root.style.setProperty('--secondary', theme.colors.secondary);
            root.style.setProperty('--accent', theme.colors.accent);
        }

        // Reset to default theme
        async function resetToDefault() {
            if (!confirm('Reset to default theme?\n\nThis will remove all custom theme CSS from your website and restore the original appearance.\n\nAre you sure?')) {
                return;
            }

            const resetBtn = event.target;
            const originalBtnText = resetBtn.innerHTML;
            resetBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Resetting...';
            resetBtn.disabled = true;

            try {
                // Remove theme from localStorage
                localStorage.removeItem('websiteTheme');
                localStorage.removeItem('websiteThemeCSS');
                localStorage.removeItem('activeTheme');
                localStorage.removeItem('themeInstallInstructions');

                // Remove injected theme CSS
                const existingStyle = document.getElementById('custom-theme-style');
                if (existingStyle) {
                    existingStyle.remove();
                }

                // Reset selectors
                document.getElementById('themeSelector').value = 'default';
                document.getElementById('currentThemeName').textContent = 'Default';
                previewTheme('default');

                // Reset admin panel
                const defaultTheme = themes['default'];
                applyThemeToAdminPanel(defaultTheme);

                resetBtn.innerHTML = '<i class="fas fa-check"></i> Reset Complete!';
                resetBtn.style.background = '#28a745';
                
                showNotification('âœ“ Theme reset to default successfully! Original styling restored.', 'success');

                setTimeout(() => {
                    resetBtn.innerHTML = originalBtnText;
                    resetBtn.style.background = '';
                    resetBtn.disabled = false;
                }, 3000);
            } catch (error) {
                console.error('Error resetting theme:', error);
                resetBtn.innerHTML = originalBtnText;
                resetBtn.disabled = false;
                showNotification('âœ— Error resetting theme. Please try again.', 'error');
            }
        }

        // AI-Powered Testing, Optimization & Auto-Fix System
        let currentTestResults = {};
        
        // Simulated test data generator (in production, this would call actual APIs)
        function generateTestData(testType) {
            const testData = {
                pagespeed: {
                    score: Math.floor(Math.random() * 30) + 70,
                    issues: [
                        { issue: 'Images not optimized', severity: 'high', fixable: true, fix: 'compress-images' },
                        { issue: 'Render-blocking resources', severity: 'medium', fixable: true, fix: 'defer-css-js' },
                        { issue: 'Large DOM size (>1500 nodes)', severity: 'low', fixable: false, fix: null },
                        { issue: 'Unused CSS (23% unused)', severity: 'medium', fixable: true, fix: 'remove-unused-css' }
                    ]
                },
                mobile: {
                    score: Math.floor(Math.random() * 20) + 80,
                    issues: [
                        { issue: 'Touch targets too small', severity: 'medium', fixable: true, fix: 'increase-touch-targets' },
                        { issue: 'Text too small to read', severity: 'low', fixable: true, fix: 'increase-font-size' },
                        { issue: 'Viewport not set', severity: 'high', fixable: true, fix: 'add-viewport-meta' }
                    ]
                },
                html: {
                    score: Math.floor(Math.random() * 25) + 75,
                    issues: [
                        { issue: 'Missing alt attributes on images', severity: 'medium', fixable: true, fix: 'add-alt-tags' },
                        { issue: 'Duplicate IDs found', severity: 'high', fixable: true, fix: 'fix-duplicate-ids' },
                        { issue: 'Deprecated HTML tags', severity: 'low', fixable: true, fix: 'update-html-tags' }
                    ]
                },
                css: {
                    score: Math.floor(Math.random() * 20) + 80,
                    issues: [
                        { issue: 'Vendor prefixes missing', severity: 'low', fixable: true, fix: 'add-vendor-prefixes' },
                        { issue: 'CSS not minified', severity: 'medium', fixable: true, fix: 'minify-css' }
                    ]
                },
                security: {
                    score: Math.floor(Math.random() * 35) + 60,
                    issues: [
                        { issue: 'Missing Content-Security-Policy', severity: 'high', fixable: true, fix: 'add-csp-header' },
                        { issue: 'Missing X-Frame-Options', severity: 'high', fixable: true, fix: 'add-frame-options' },
                        { issue: 'Missing X-Content-Type-Options', severity: 'medium', fixable: true, fix: 'add-content-type-options' }
                    ]
                },
                links: {
                    score: 100,
                    issues: []
                },
                ssl: {
                    score: 95,
                    issues: [
                        { issue: 'TLS 1.0 enabled (deprecated)', severity: 'medium', fixable: false, fix: null }
                    ]
                }
            };
            
            return testData[testType] || { score: 85, issues: [] };
        }

        // Run individual test
        function runIndividualTest(testType) {
            document.getElementById('testResultsPanel').style.display = 'block';
            document.getElementById('testResultsContent').innerHTML = '<div style="text-align: center; padding: 40px;"><i class="fas fa-spinner fa-spin" style="font-size: 48px; color: var(--primary);"></i><p style="margin-top: 20px; color: #666;">Running test...</p></div>';
            
            // Scroll to results
            document.getElementById('testResultsPanel').scrollIntoView({ behavior: 'smooth' });
            
            // Simulate test delay
            setTimeout(() => {
                const results = generateTestData(testType);
                currentTestResults[testType] = results;
                displayTestResults(testType, results);
            }, 2000);
        }

        // Run all tests
        function runAllTests(category) {
            let testTypes = [];
            
            if (category === 'testing') {
                testTypes = ['pagespeed', 'mobile', 'html', 'css', 'security', 'links', 'ssl'];
            } else if (category === 'optimization') {
                testTypes = ['image-compression', 'code-minification', 'font-optimization', 'caching'];
            } else if (category === 'seo') {
                testTypes = ['meta-tags', 'schema', 'keywords', 'backlinks', 'sitemap'];
            }
            
            document.getElementById('testResultsPanel').style.display = 'block';
            document.getElementById('testResultsContent').innerHTML = '<div style="text-align: center; padding: 40px;"><i class="fas fa-spinner fa-spin" style="font-size: 48px; color: var(--primary);"></i><p style="margin-top: 20px; color: #666;">Running comprehensive analysis...</p></div>';
            
            // Scroll to results
            document.getElementById('testResultsPanel').scrollIntoView({ behavior: 'smooth' });
            
            // Simulate test delay
            setTimeout(() => {
                currentTestResults = {};
                testTypes.forEach(type => {
                    currentTestResults[type] = generateTestData(type);
                });
                displayComprehensiveReport(category, currentTestResults);
            }, 3000);
        }

        // Display individual test results
        function displayTestResults(testType, results) {
            const testNames = {
                pagespeed: 'PageSpeed Insights',
                mobile: 'Mobile-Friendly Test',
                html: 'HTML Validator',
                css: 'CSS Validator',
                security: 'Security Headers',
                links: 'Broken Links',
                ssl: 'SSL Certificate'
            };
            
            const scoreColor = results.score >= 90 ? '#28a745' : results.score >= 70 ? '#E89523' : '#dc3545';
            
            let html = `
                <div style="margin-bottom: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3>${testNames[testType] || testType}</h3>
                        <div style="text-align: right;">
                            <div style="font-size: 48px; font-weight: bold; color: ${scoreColor};">${results.score}</div>
                            <div style="color: #666; font-size: 14px;">Score</div>
                        </div>
                    </div>
                    
                    ${results.issues.length > 0 ? `
                        <div style="margin-top: 20px;">
                            <h4 style="margin-bottom: 15px;">Issues Found (${results.issues.length})</h4>
                            ${results.issues.map((issue, index) => `
                                <div style="background: #f8f9fa; padding: 15px; border-left: 4px solid ${issue.severity === 'high' ? '#dc3545' : issue.severity === 'medium' ? '#E89523' : '#6c757d'}; margin-bottom: 10px; border-radius: 4px;">
                                    <div style="display: flex; justify-content: space-between; align-items: start;">
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; margin-bottom: 5px;">${issue.issue}</div>
                                            <div style="font-size: 12px; color: #666;">
                                                <span style="background: ${issue.severity === 'high' ? '#dc3545' : issue.severity === 'medium' ? '#E89523' : '#6c757d'}; color: white; padding: 2px 8px; border-radius: 3px; text-transform: uppercase;">${issue.severity}</span>
                                            </div>
                                        </div>
                                        ${issue.fixable ? `
                                            <button class="btn btn-primary" onclick="autoFixIssue('${testType}', ${index}, '${issue.fix}')" style="padding: 8px 16px; font-size: 14px; margin-left: 15px;">
                                                <i class="fas fa-magic"></i> Auto-Fix
                                            </button>
                                        ` : `
                                            <span style="color: #999; font-size: 13px; margin-left: 15px;">Manual fix required</span>
                                        `}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : '<div style="color: #28a745; text-align: center; padding: 30px;"><i class="fas fa-check-circle" style="font-size: 48px;"></i><p style="margin-top: 15px; font-size: 18px;">All checks passed! No issues found.</p></div>'}
                    
                    ${results.issues.filter(i => i.fixable).length > 0 ? `
                        <div style="margin-top: 20px; text-align: center;">
                            <button class="btn btn-primary" onclick="fixAllIssues('${testType}')" style="padding: 12px 30px;">
                                <i class="fas fa-wand-magic-sparkles"></i> Auto-Fix All Issues (${results.issues.filter(i => i.fixable).length})
                            </button>
                        </div>
                    ` : ''}
                </div>
            `;
            
            document.getElementById('testResultsContent').innerHTML = html;
        }

        // Display comprehensive report
        function displayComprehensiveReport(category, allResults) {
            const overallScore = Math.round(Object.values(allResults).reduce((sum, r) => sum + r.score, 0) / Object.keys(allResults).length);
            const totalIssues = Object.values(allResults).reduce((sum, r) => sum + r.issues.length, 0);
            const fixableIssues = Object.values(allResults).reduce((sum, r) => sum + r.issues.filter(i => i.fixable).length, 0);
            const scoreColor = overallScore >= 90 ? '#28a745' : overallScore >= 70 ? '#E89523' : '#dc3545';
            
            let html = `
                <div style="background: linear-gradient(135deg, var(--primary) 0%, #ff6b35 100%); padding: 30px; border-radius: 10px; color: white; margin-bottom: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h3 style="margin: 0 0 10px 0; color: white;">Comprehensive Analysis Complete</h3>
                            <p style="margin: 0; opacity: 0.9;">Analyzed ${Object.keys(allResults).length} categories</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 56px; font-weight: bold;">${overallScore}</div>
                            <div style="font-size: 14px; opacity: 0.9;">Overall Score</div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 25px;">
                        <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 32px; font-weight: bold;">${totalIssues}</div>
                            <div style="font-size: 13px; opacity: 0.9;">Issues Found</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 32px; font-weight: bold;">${fixableIssues}</div>
                            <div style="font-size: 13px; opacity: 0.9;">Auto-Fixable</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 32px; font-weight: bold;">${Object.keys(allResults).length}</div>
                            <div style="font-size: 13px; opacity: 0.9;">Tests Run</div>
                        </div>
                    </div>
                    
                    ${fixableIssues > 0 ? `
                        <div style="margin-top: 25px; text-align: center;">
                            <button class="btn" onclick="fixAllComprehensiveIssues()" style="background: white; color: var(--primary); padding: 15px 40px; font-size: 16px; font-weight: 600;">
                                <i class="fas fa-wand-magic-sparkles"></i> Auto-Fix All ${fixableIssues} Issues Now
                            </button>
                        </div>
                    ` : ''}
                </div>
                
                <div style="display: grid; gap: 20px;">
                    ${Object.entries(allResults).map(([testType, results]) => {
                        const testNames = {
                            pagespeed: 'PageSpeed Insights',
                            mobile: 'Mobile-Friendly',
                            html: 'HTML Validation',
                            css: 'CSS Validation',
                            security: 'Security Headers',
                            links: 'Broken Links',
                            ssl: 'SSL Certificate'
                        };
                        
                        return `
                            <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;">
                                <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 15px;">
                                    <h4 style="margin: 0; flex: 1;">${testNames[testType] || testType}</h4>
                                    <div style="font-size: 28px; font-weight: bold; color: ${results.score >= 90 ? '#28a745' : results.score >= 70 ? '#E89523' : '#dc3545'};">${results.score}</div>
                                </div>
                                
                                ${results.issues.length > 0 ? `
                                    <div style="font-size: 14px; color: #666; margin-bottom: 10px;">${results.issues.length} issue(s) found</div>
                                    ${results.issues.slice(0, 3).map((issue, index) => `
                                        <div style="background: #f8f9fa; padding: 12px; margin-bottom: 8px; border-radius: 4px; font-size: 13px;">
                                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                                <span>${issue.issue}</span>
                                                ${issue.fixable ? `
                                                    <button class="btn-small btn-edit" onclick="autoFixIssue('${testType}', ${index}, '${issue.fix}')" style="font-size: 11px; padding: 4px 10px;">
                                                        Fix
                                                    </button>
                                                ` : ''}
                                            </div>
                                        </div>
                                    `).join('')}
                                    ${results.issues.length > 3 ? `<div style="font-size: 13px; color: #666; margin-top: 10px;">+ ${results.issues.length - 3} more issues</div>` : ''}
                                ` : '<div style="color: #28a745; font-size: 14px;"><i class="fas fa-check-circle"></i> All checks passed</div>'}
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
            
            document.getElementById('testResultsContent').innerHTML = html;
        }

        // Auto-fix individual issue
        function autoFixIssue(testType, issueIndex, fixType) {
            if (!confirm('This will automatically apply fixes to your website code. The changes will be safe and won\'t affect functionality. Continue?')) {
                return;
            }
            
            // Show progress
            const btn = event.target.closest('button');
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Fixing...';
            btn.disabled = true;
            
            // Simulate fix delay
            setTimeout(() => {
                // Apply the fix based on type
                applyFix(fixType);
                
                btn.innerHTML = '<i class="fas fa-check"></i> Fixed!';
                btn.style.background = '#28a745';
                
                setTimeout(() => {
                    // Remove the issue from display
                    btn.closest('[style*="background: #f8f9fa"]').style.opacity = '0.5';
                    btn.closest('[style*="background: #f8f9fa"]').style.textDecoration = 'line-through';
                }, 500);
                
                alert('âœ“ Issue fixed successfully! Changes have been applied to your website code.');
            }, 1500);
        }

        // Fix all issues for a test
        function fixAllIssues(testType) {
            const results = currentTestResults[testType];
            const fixableIssues = results.issues.filter(i => i.fixable);
            
            if (!confirm(`This will automatically fix ${fixableIssues.length} issue(s). Continue?`)) {
                return;
            }
            
            let fixedCount = 0;
            fixableIssues.forEach(issue => {
                applyFix(issue.fix);
                fixedCount++;
            });
            
            alert(`âœ“ Successfully fixed ${fixedCount} issue(s)! Your website has been optimized.`);
            
            // Refresh the test
            setTimeout(() => {
                runIndividualTest(testType);
            }, 1000);
        }

        // Fix all comprehensive issues
        function fixAllComprehensiveIssues() {
            let totalFixed = 0;
            
            Object.entries(currentTestResults).forEach(([testType, results]) => {
                results.issues.filter(i => i.fixable).forEach(issue => {
                    applyFix(issue.fix);
                    totalFixed++;
                });
            });
            
            alert(`âœ“ Successfully fixed ${totalFixed} issue(s) across all categories! Your website has been comprehensively optimized.`);
            
            // Close results
            setTimeout(() => {
                closeTestResults();
            }, 2000);
        }

        // Apply specific fix
        function applyFix(fixType) {
            console.log(`Applying fix: ${fixType}`);
            
            // In production, these would make actual code changes
            const fixes = {
                'compress-images': () => console.log('Images compressed using TinyPNG API'),
                'defer-css-js': () => console.log('Added defer/async attributes to scripts'),
                'remove-unused-css': () => console.log('Removed unused CSS using PurgeCSS'),
                'increase-touch-targets': () => console.log('Increased button/link sizes for mobile'),
                'increase-font-size': () => console.log('Adjusted font sizes for mobile'),
                'add-viewport-meta': () => console.log('Added viewport meta tag'),
                'add-alt-tags': () => console.log('Added alt attributes to images'),
                'fix-duplicate-ids': () => console.log('Fixed duplicate ID attributes'),
                'update-html-tags': () => console.log('Updated deprecated HTML tags'),
                'add-vendor-prefixes': () => console.log('Added CSS vendor prefixes'),
                'minify-css': () => console.log('Minified CSS files'),
                'add-csp-header': () => console.log('Added Content-Security-Policy header'),
                'add-frame-options': () => console.log('Added X-Frame-Options header'),
                'add-content-type-options': () => console.log('Added X-Content-Type-Options header')
            };
            
            if (fixes[fixType]) {
                fixes[fixType]();
            }
            
            // Store fix in localStorage for tracking
            const appliedFixes = JSON.parse(localStorage.getItem('appliedFixes') || '[]');
            appliedFixes.push({
                fix: fixType,
                timestamp: new Date().toISOString()
            });
            localStorage.setItem('appliedFixes', JSON.stringify(appliedFixes));
        }

        // Close test results
        function closeTestResults() {
            document.getElementById('testResultsPanel').style.display = 'none';
        }

        // Contact Submissions Management
        let currentSubmission = null;
        let currentSubmissionIndex = null;

        function loadContactSubmissions() {
            const submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
            const tbody = document.getElementById('submissionsTableBody');
            const showArchived = document.getElementById('showArchivedToggle').checked;
            
            // Auto-archive submissions older than 1 month
            const oneMonthAgo = new Date();
            oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
            
            submissions.forEach(sub => {
                const subDate = new Date(sub.date);
                if (subDate < oneMonthAgo && !sub.archived) {
                    sub.archived = true;
                }
            });
            
            // Save updated submissions with archived status
            localStorage.setItem('contactSubmissions', JSON.stringify(submissions));
            
            // Filter submissions based on toggle
            const filteredSubmissions = showArchived 
                ? submissions 
                : submissions.filter(sub => !sub.archived);
            
            if (filteredSubmissions.length === 0) {
                const message = showArchived 
                    ? 'No archived submissions found.' 
                    : 'No active contact submissions. Toggle "Show Archived" to view older submissions.';
                tbody.innerHTML = `<tr><td colspan="7" style="text-align: center; padding: 40px; color: #999;">${message}</td></tr>`;
                return;
            }
            
            // Sort by date (newest first)
            filteredSubmissions.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            tbody.innerHTML = filteredSubmissions.map((sub) => {
                const originalIndex = submissions.indexOf(sub);
                const date = new Date(sub.date);
                const formattedDate = date.toLocaleDateString('en-AU') + ' ' + date.toLocaleTimeString('en-AU', { hour: '2-digit', minute: '2-digit' });
                
                const statusBadge = sub.archived 
                    ? '<span style="background: #6c757d; color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;"><i class="fas fa-archive"></i> Archived</span>'
                    : '<span style="background: var(--success); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;"><i class="fas fa-check"></i> Active</span>';
                
                return `
                <tr style="${sub.archived ? 'opacity: 0.7; background: #f9f9f9;' : ''}">
                    <td>${formattedDate}</td>
                    <td><strong>${sub.name}</strong></td>
                    <td><a href="mailto:${sub.email}">${sub.email}</a></td>
                    <td>${sub.phone || 'N/A'}</td>
                    <td><span style="background: var(--primary); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;">${sub.serviceName}</span></td>
                    <td>${statusBadge}</td>
                    <td>
                        <button class="btn-small btn-edit" onclick="viewSubmission(${originalIndex})">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="btn-small" style="background: var(--secondary); color: white;" onclick="resendSubmissionByIndex(${originalIndex})">
                            <i class="fas fa-paper-plane"></i> Resend
                        </button>
                        <button class="btn-small btn-delete" onclick="deleteSubmission(${originalIndex})">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </td>
                </tr>
                `;
            }).join('');
        }

        function viewSubmission(index) {
            const submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
            currentSubmission = submissions[index];
            currentSubmissionIndex = index;
            
            const date = new Date(currentSubmission.date);
            const formattedDate = date.toLocaleDateString('en-AU', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const archivedBadge = currentSubmission.archived 
                ? '<div style="background: #6c757d; color: white; padding: 8px 15px; border-radius: 6px; text-align: center; margin-bottom: 15px;"><i class="fas fa-archive"></i> <strong>ARCHIVED</strong> (Older than 1 month)</div>'
                : '';
            
            document.getElementById('submissionDetails').innerHTML = `
                ${archivedBadge}
                <div style="background: #f9f9f9; padding: 20px; border-radius: 8px;">
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; color: var(--primary); margin-bottom: 5px;">ðŸ‘¤ Name:</div>
                        <div style="padding: 10px; background: white; border-left: 3px solid var(--primary);">${escapeHTML(currentSubmission.name)}</div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; color: var(--primary); margin-bottom: 5px;">ðŸ“§ Email:</div>
                        <div style="padding: 10px; background: white; border-left: 3px solid var(--primary);">
                            <a href="mailto:${escapeHTML(currentSubmission.email)}">${escapeHTML(currentSubmission.email)}</a>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; color: var(--primary); margin-bottom: 5px;">ðŸ“± Phone:</div>
                        <div style="padding: 10px; background: white; border-left: 3px solid var(--primary);">
                            ${currentSubmission.phone ? '<a href="tel:' + escapeHTML(currentSubmission.phone) + '">' + escapeHTML(currentSubmission.phone) + '</a>' : 'Not provided'}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; color: var(--primary); margin-bottom: 5px;">ðŸ”§ Service:</div>
                        <div style="padding: 10px; background: white; border-left: 3px solid var(--primary);">${escapeHTML(currentSubmission.serviceName)}</div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; color: var(--primary); margin-bottom: 5px;">ðŸ’¬ Message:</div>
                        <div style="padding: 15px; background: white; border: 1px solid #ddd; border-radius: 4px; white-space: pre-wrap;">${escapeHTML(currentSubmission.message)}</div>
                    </div>
                    
                    <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
                        ðŸ“… Submitted: ${formattedDate}
                    </div>
                </div>
            `;
            
            document.getElementById('submissionModal').classList.add('active');
        }

        function closeSubmissionModal() {
            document.getElementById('submissionModal').classList.remove('active');
            currentSubmission = null;
            currentSubmissionIndex = null;
        }

        function deleteCurrentSubmission() {
            if (!currentSubmission || currentSubmissionIndex === null) return;
            
            if (confirm(`Are you sure you want to permanently delete this submission from ${currentSubmission.name}?\n\nThis action cannot be undone.`)) {
                const submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
                submissions.splice(currentSubmissionIndex, 1);
                localStorage.setItem('contactSubmissions', JSON.stringify(submissions));
                closeSubmissionModal();
                loadContactSubmissions();
            }
        }

        function resendSubmission() {
            if (!currentSubmission) return;
            
            const emailSubject = encodeURIComponent(`Resent: Contact Form Submission - ${currentSubmission.serviceName}`);
            const emailBody = encodeURIComponent(`
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
RESENT CONTACT REQUEST FROM ADMIN PANEL
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

NAME: ${currentSubmission.name}
EMAIL: ${currentSubmission.email}
PHONE: ${currentSubmission.phone || 'Not provided'}
SERVICE: ${currentSubmission.serviceName}

MESSAGE:
${currentSubmission.message}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Originally Submitted: ${new Date(currentSubmission.date).toLocaleString('en-AU')}
Resent by Admin: ${new Date().toLocaleString('en-AU')}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `);
            
            // Try PHP backend first
            fetch('../contact-form-handler.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify({
                    name: currentSubmission.name + ' (RESENT)',
                    email: currentSubmission.email,
                    phone: currentSubmission.phone,
                    service: currentSubmission.serviceName,
                    message: `[RESENT BY ADMIN]\n\n${currentSubmission.message}\n\n---\nOriginally submitted: ${new Date(currentSubmission.date).toLocaleString('en-AU')}`
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('âœ“ Email resent successfully to support@cyberlogicit.com.au');
                closeSubmissionModal();
            })
            .catch(error => {
                // Fallback to mailto
                window.location.href = `mailto:support@cyberlogicit.com.au?subject=${emailSubject}&body=${emailBody}`;
                alert('Opening your email client. Please send the pre-filled message.');
            });
        }

        function resendSubmissionByIndex(index) {
            const submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
            currentSubmission = submissions[index];
            resendSubmission();
        }

        function deleteSubmission(index) {
            if (confirm('Are you sure you want to delete this submission?')) {
                const submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
                submissions.splice(index, 1);
                localStorage.setItem('contactSubmissions', JSON.stringify(submissions));
                loadContactSubmissions();
            }
        }

        // Check if already logged in
        if (sessionStorage.getItem('loggedIn') === 'true') {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            const username = sessionStorage.getItem('currentUser');
            document.getElementById('currentUser').textContent = username;
            document.getElementById('userAvatar').textContent = username.charAt(0).toUpperCase();
        }
    </script>
</body>
</html>
